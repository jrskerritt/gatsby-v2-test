{"version":3,"sources":["webpack:///./src/components/BlogCard.js","webpack:///./src/components/BlogContent.js","webpack:///./src/api/WordPressAPI.js","webpack:///./src/pages/index.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer-prod.js"],"names":["BlogCard_BlogCard","props","react_default","a","createElement","className","href","url","data-src","imageUrl","alt","title","dangerouslySetInnerHTML","__html","description","propTypes","prop_types_default","string","defaultProps","components_BlogCard","d","m","n","g","f","h","BlogContent_BlogContent","BlogContent","_this","_React$Component","call","this","state","cards","componentWillMount","_this2","_this$props","maxCards","blogCategory","axios_default","get","then","response","data","promises","_loop","i","card","wpContent","_links","rendered","finalExcerpt","excerpt","substr","link","push","img","media_details","sizes","medium","source_url","catch","error","console","log","Promise","all","setState","componentDidUpdate","prevProps","prevState","length","images","document","querySelectorAll","lazyLoadImages_default","render","map","index","key","Component","number","__webpack_exports__","default","gatsby_link_default","to","201","e","t","module","exports","__webpack_require__","StaticQueryContext","react__WEBPACK_IMPORTED_MODULE_0___default","createContext","StaticQuery","Consumer","staticQueryData","query","children","graphql","Error","prop_types__WEBPACK_IMPORTED_MODULE_1___default","object","isRequired","func","ProdPageRenderer","_ref","location","pageResources","_loader__WEBPACK_IMPORTED_MODULE_3__","getResourcesForPathname","pathname","_page_renderer__WEBPACK_IMPORTED_MODULE_2__","shape","s"],"mappings":"yKAGMA,EAAW,SAAAC,GAAA,OACfC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,KAAGE,KAAML,EAAMM,KACbL,EAAAC,EAAAC,cAAA,OACEC,UAAU,iCACVG,WAAUP,EAAMQ,SAChBC,IAAKT,EAAMU,QAEbT,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eAAhB,YACAH,EAAAC,EAAAC,cAAA,OACEC,UAAU,4BACVO,yBAA2BC,OAAQZ,EAAMU,SAE3CT,EAAAC,EAAAC,cAAA,OACEC,UAAU,0CACVO,yBAA2BC,OAAQZ,EAAMa,mBAOnDd,EAASe,WACPD,YAAaE,EAAAb,EAAUc,OACvBR,SAAUO,EAAAb,EAAUc,OACpBN,MAAOK,EAAAb,EAAUc,OACjBV,IAAKS,EAAAb,EAAUc,QAGjBjB,EAASkB,cACPJ,YAAa,GACbL,SAAU,GACVE,MAAO,oBACPJ,IAAK,IAGP,IAAAY,EAAAC,EAAAC,GAAAC,EAAA,KAAAA,EAAA,IAAAA,EAAA,KAAAA,EAAA,IAAAA,EAAA,MAAAC,EAAAD,IAAAD,GAAAG,EAAAF,EAAA,KAAAG,EAAAH,IAAAE,GClCqBE,cACnB,SAAAC,EAAY1B,GAAO,IAAA2B,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAM9B,IAAN8B,MAEKC,OACHC,UAJeL,sCAQnBM,8BAAqB,IAAAC,EAAAJ,KAAAK,EACgBL,KAAK9B,MAAhCoC,EADWD,EACXC,SAAUC,EADCF,EACDE,aACd/B,EAAM,2DAEN+B,IACF/B,kBAAsB+B,GClB5B,SAAyBA,EAAc/B,EAAK8B,GAC1C,IAAMJ,KAEN,OAAOM,EAAApC,EACJqC,IAAIjC,GACJkC,KAAK,SAAAC,GAAA,OAAYA,EAASC,OAC1BF,KAAK,SAAAE,GAEJ,IADA,IAAMC,KADMC,EAAA,SAEHC,GACP,IAAMC,KACAC,EAAYL,EAAKG,GAAGG,OAAO,oBAAoB,GAAG3C,KAExDyC,EAAKpC,MAAQgC,EAAKG,GAAGnC,MAAMuC,SAE3B,IACMC,EADeR,EAAKG,GAAGM,QAAQF,SAASG,OAAO,EAAG,KAClD,UAENN,EAAKK,QAAUD,EACfJ,EAAKxC,IAAMoC,EAAKG,GAAGQ,KAEnBV,EAASW,KAAKhB,EAAApC,EAAMqC,IAAIQ,GACrBP,KAAK,SAAAC,GAAA,OAAYA,EAASC,OAC1BF,KAAK,SAAAE,GACJI,EAAKS,IAAMb,EAAKc,cAAcC,MAAMC,OAAOC,WAC3C3B,EAAMsB,KAAKR,KAEZc,MAAM,SAAAC,GACLC,QAAQC,IAAIF,OAnBThB,EAAI,EAAGA,EAAIT,EAAUS,IAAKD,EAA1BC,GAuBT,OAAOmB,QAAQC,IAAItB,KAEpBH,KAAK,kBAAMR,IACX4B,MAAM,SAAAC,GACLC,QAAQC,IAAIF,KAnClB,CDqBiCxB,EAAc/B,EAAK8B,GAC7CI,KAAK,SAAAR,GAAWE,EAAKgC,UAAWlC,eAGrCmC,4BAAmBC,EAAWC,GAC5B,GAAKvC,KAAKC,MAAMC,OAIZF,KAAKC,MAAMC,MAAMsC,OAAS,KAAOD,EAAUrC,OAAoC,IAA3BqC,EAAUrC,MAAMsC,QAAe,CACrF,IAAMC,EAASC,SAASC,iBAAiB,qBACzCC,IAAeH,OAInBI,kBACE,IAAM3C,EAAQF,KAAKC,MAAMC,MAAQF,KAAKC,MAAMC,MAAM4C,IAAI,SAAC9B,EAAM+B,GAAP,OACpD5E,EAAAC,EAAAC,cAACe,GACCV,SAAUsC,EAAKS,IACf7C,MAAOoC,EAAKpC,MACZG,YAAaiC,EAAKK,QAClB7C,IAAKwC,EAAKxC,IACVwE,IAAKD,MAEJ,KAEL,OACE5E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,uBAAd,oBACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBAAuB4B,OA9CzBP,CAAoBxB,EAAAC,EAAM6E,WAoD/CtD,EAAYX,WACVuB,aAActB,EAAAb,EAAU8E,OACxB5C,SAAUrB,EAAAb,EAAU8E,QAGtBvD,EAAYR,cACVmB,SAAU,GElDZ6C,EAAAC,QAVkB,kBAChBjF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,6CACAF,EAAAC,EAAAC,cAAA,0CACAF,EAAAC,EAAAC,cAACgF,EAAAjF,GAAKkF,GAAG,YAAT,gBACAnF,EAAAC,EAAAC,cAACsB,GAAYY,aAAa,YAAAgD,IAAA,SAAAC,EAAAC,EAAAlE,GCV9B,IAAsBD,EAKpBoE,EAAOC,SALarE,EAKWsE,EAAA,OALAtE,EAAE8D,SAAY9D,+mBCY/C,IAAMuE,EAAqBC,EAAA1F,EAAM2F,kBAE3BC,EAAc,SAAA9F,GAAA,OAClB4F,EAAA1F,EAAAC,cAACwF,EAAmBI,SAApB,KACG,SAAAC,GACC,OACEhG,EAAM0C,MACLsD,EAAgBhG,EAAMiG,QAAUD,EAAgBhG,EAAMiG,OAAOvD,MAEtD1C,EAAM2E,QAAU3E,EAAMkG,UAC5BlG,EAAM0C,KAAO1C,EAAM0C,KAAKA,KAAOsD,EAAgBhG,EAAMiG,OAAOvD,MAGvDkD,EAAA1F,EAAAC,cAAA,uCAaf,SAASgG,IACP,MAAM,IAAIC,MACR,gVATJN,EAAYhF,WACV4B,KAAM2D,EAAAnG,EAAUoG,OAChBL,MAAOI,EAAAnG,EAAUc,OAAOuF,WACxB5B,OAAQ0B,EAAAnG,EAAUsG,KAClBN,SAAUG,EAAAnG,EAAUsG,mGC7BhBC,EAAmB,SAAAC,GAAkB,IAAfC,EAAeD,EAAfC,SACpBC,EAAgBC,EAAA3G,EAAO4G,wBAAwBH,EAASI,UAC9D,OAAOnB,EAAA1F,EAAMC,cAAc6G,EAAA9G,GACzByG,WACAC,mBAIJH,EAAiB3F,WACf6F,SAAUN,EAAAnG,EAAU+G,OAClBF,SAAUV,EAAAnG,EAAUc,OAAOuF,aAC1BA,YAGLtB,EAAAC,QAAAgC","file":"component---src-pages-index-js-102fbe1aa7884df40118.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst BlogCard = props => (\r\n  <div className=\"blog-content__card\">\r\n    <a href={props.url}>\r\n      <img\r\n        className=\"blog-content__card__image lazy\"\r\n        data-src={props.imageUrl}\r\n        alt={props.title}\r\n      />\r\n      <div className=\"blog-content__card__desc\">\r\n        <span className=\"pxl-text-xs\">ARTICLES</span>\r\n        <div\r\n          className=\"blog-content__card__title\"\r\n          dangerouslySetInnerHTML={{ __html: props.title }}\r\n        />\r\n        <div\r\n          className=\"blog-content__card__excerpt pxl-text-xs\"\r\n          dangerouslySetInnerHTML={{ __html: props.description }}\r\n        />\r\n      </div>\r\n    </a>\r\n  </div>\r\n);\r\n\r\nBlogCard.propTypes = {\r\n  description: PropTypes.string,\r\n  imageUrl: PropTypes.string,\r\n  title: PropTypes.string,\r\n  url: PropTypes.string\r\n};\r\n\r\nBlogCard.defaultProps = {\r\n  description: '',\r\n  imageUrl: '',\r\n  title: 'This is the Title',\r\n  url: ''\r\n};\r\n\r\nexport default BlogCard;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport BlogCard from './BlogCard';\r\nimport * as WordPressAPI from '../api/WordPressAPI';\r\nimport lazyLoadImages from '../lazyLoadImages';\r\n\r\nexport default class BlogContent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      cards: []\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    const { maxCards, blogCategory } = this.props;\r\n    let url = 'https://www.payscale.com/career-news/wp-json/wp/v2/posts';\r\n\r\n    if (blogCategory) {\r\n      url += `?categories=${blogCategory}`;\r\n    }\r\n\r\n    WordPressAPI.getBlogPostInfo(blogCategory, url, maxCards)\r\n      .then(cards => { this.setState({ cards }); });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (!this.state.cards) {\r\n      return;\r\n    }\r\n\r\n    if (this.state.cards.length > 0 && (!prevState.cards || prevState.cards.length === 0)) {\r\n      const images = document.querySelectorAll('.blog-content img');\r\n      lazyLoadImages(images);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const cards = this.state.cards ? this.state.cards.map((card, index) => (\r\n      <BlogCard\r\n        imageUrl={card.img}\r\n        title={card.title}\r\n        description={card.excerpt}\r\n        url={card.url}\r\n        key={index}\r\n      />\r\n    )) : null;\r\n\r\n    return (\r\n      <div className=\"blog-content\">\r\n        <h2 className=\"blog-content__title\">Related Articles</h2>\r\n        <div className=\"blog-content__cards\">{cards}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBlogContent.propTypes = {\r\n  blogCategory: PropTypes.number, \r\n  maxCards: PropTypes.number\r\n};\r\n\r\nBlogContent.defaultProps = {\r\n  maxCards: 3\r\n};","import axios from 'axios';\r\n\r\nfunction getBlogPostInfo(blogCategory, url, maxCards) {\r\n  const cards = [];\r\n    \r\n  return axios\r\n    .get(url)\r\n    .then(response => response.data)\r\n    .then(data => {\r\n      const promises = [];\r\n      for (let i = 0; i < maxCards; i++) {\r\n        const card = {};\r\n        const wpContent = data[i]._links['wp:featuredmedia'][0].href;\r\n\r\n        card.title = data[i].title.rendered;\r\n\r\n        const shortExcerpt = data[i].excerpt.rendered.substr(0, 100);\r\n        const finalExcerpt = `${shortExcerpt }...</p>`;\r\n\r\n        card.excerpt = finalExcerpt;\r\n        card.url = data[i].link;\r\n\r\n        promises.push(axios.get(wpContent)\r\n          .then(response => response.data)\r\n          .then(data => {\r\n            card.img = data.media_details.sizes.medium.source_url;\r\n            cards.push(card);\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          }));\r\n      }\r\n\r\n      return Promise.all(promises);\r\n    })\r\n    .then(() => cards)\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n}\r\nexport { getBlogPostInfo };\r\n","import React from 'react'\r\nimport Link from 'gatsby-link'\r\nimport BlogContent from '../components/BlogContent'\r\n\r\nconst IndexPage = () => (\r\n  <div>\r\n    <h1>Hi people</h1>\r\n    <p>Welcome to your new Gatsby site.</p>\r\n    <p>Now go build something great.</p>\r\n    <Link to=\"/page-2/\">Go to page 2</Link>\r\n    <BlogContent blogCategory=\"5080\" />\r\n  </div>\r\n)\r\n\r\nexport default IndexPage\r\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.NODE_ENV !== `production`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathname(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n"],"sourceRoot":""}